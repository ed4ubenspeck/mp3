---
title: "Markdown File"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(sf)
library(raster)
library(macleish)
library(leaflet)
```

Trying to get elevation data:
```{r}
elevation <- mass_gis(layer = "contours250k")
```


Macleish elevation data:
```{r}
elevation_sf <- elevation %>%
  st_as_sf()

elevation_macleish <- elevation_sf %>%
  st_intersection(macleish_layers[["boundary"]])
```

Testing plots
```{r}
plot <- leaflet() %>%
  addPolygons(data = macleish_layers[["boundary"]], weight = 1) %>%
  addPolygons(data = macleish_layers[["trails"]], popup = ~name) %>% 
  addPolygons(data = elevation_macleish)

trails_elevation <- elevation_macleish %>%
  st_join(macleish_layers[["trails"]], join = st_crosses)

plot_trails <- leaflet() %>%
  addPolygons(data = macleish_layers[["boundary"]], weight = 1) %>%
  addPolygons(data = macleish_layers[["trails"]], popup = ~name) %>%
  addPolygons(data = macleish_layers[["streams"]])









base_plot <- leaflet() %>%
  addPolygons(data = macleish_layers[["buildings"]], 
              weight = 1, popup = ~name) %>%
  addPolygons(data = macleish_layers[["forests"]], 
              weight = 1, fillOpacity = 0.2, popup = ~ Sheet1__Na)


m <- leaflet() %>%
  # Base groups
  addTiles(group = "OpenStreetMap") %>%
  addProviderTiles("Esri.WorldTopoMap", group = "Topography") %>%
  addProviderTiles("Esri.WorldImagery", group = "Satellite") %>%
  addProviderTiles("Stamen.TonerLite", group = "Toner Lite") %>%
    addPolygons(data = macleish_layers[["boundary"]], weight = 1, fillOpacity = 0.01, group = "Boundaries")




# base_1 <- m %>%
#   addPolylines(data = elevation_macleish, weight = 0.5, popup = ~CONTOUR_FT) %>%
#   addPolylines(data = macleish_layers[["trails"]], weight = 2, popup = ~name)

# base_2 <- m %>%
#   addPolygons(data = join) %>%
#   addPolylines(data = macleish_layers[["trails"]], weight = 2, popup = ~name)
# 
# join <- elevation_macleish %>%
#   st_join(macleish_layers[["trails"]], join = st_crosses, left = FALSE) 
  
```